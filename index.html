<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الفزعة / The Saver - Smart Decision Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #722F37; /* Wine Red */
            --primary-dark: #5a252c;
            --primary-light: #8a3a44;
            --light: #ffffff; /* White */
            --light-gray: #f5f5f5;
            --dark: #2c2c54;
            --success: #20bf6b;
            --warning: #fa8231;
            --danger: #eb3b5a;
            --info: #2d98da;
            --gray: #a5b1c2;
            --border-radius: 12px;
            --box-shadow: 0 8px 25px rgba(114, 47, 55, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
            transition: var(--transition);
            overflow-x: hidden;
        }

        body.rtl {
            font-family: 'Cairo', sans-serif;
            direction: rtl;
        }

        body.dark-mode {
            background-color: #121212;
            color: #f0f0f0;
            --light: #1e1e1e;
            --light-gray: #2d2d2d;
            --dark: #f0f0f0;
        }

        body.no-scroll {
            overflow: hidden;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Welcome Modal */
        .welcome-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(114, 47, 55, 0.95);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            animation: fadeIn 0.5s ease;
        }

        .welcome-modal.hidden {
            display: none;
        }

        .welcome-content {
            background-color: white;
            border-radius: var(--border-radius);
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.5s ease;
        }

        body.dark-mode .welcome-content {
            background-color: var(--light);
        }

        .welcome-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 30px;
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            text-align: center;
        }

        .welcome-body {
            padding: 30px;
        }

        .welcome-step {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding: 15px;
            border-radius: 10px;
            background-color: rgba(114, 47, 55, 0.05);
            transition: var(--transition);
        }

        body.dark-mode .welcome-step {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .welcome-step:hover {
            transform: translateX(10px);
        }

        body.rtl .welcome-step:hover {
            transform: translateX(-10px);
        }

        .step-icon {
            width: 50px;
            height: 50px;
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-right: 20px;
            flex-shrink: 0;
        }

        body.rtl .step-icon {
            margin-right: 0;
            margin-left: 20px;
        }

        .step-content h3 {
            color: var(--primary);
            margin-bottom: 5px;
        }

        .welcome-footer {
            padding: 20px 30px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        body.dark-mode .welcome-footer {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .welcome-checkbox {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Header Styles */
        header {
            background-color: var(--light);
            box-shadow: 0 4px 12px rgba(114, 47, 55, 0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: var(--transition);
        }

        body.dark-mode header {
            background-color: #1e1e1e;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
        }

        .logo-icon {
            color: var(--primary);
            font-size: 28px;
        }

        .logo-text {
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .logo-text.rtl {
            font-family: 'Cairo', sans-serif;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--primary);
            cursor: pointer;
        }

        .nav-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .language-switch, .theme-toggle, .auth-buttons {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background-color: var(--primary);
            color: white;
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 14px;
        }

        .btn-success {
            background-color: var(--success);
            color: white;
        }

        .btn-success:hover {
            background-color: #1a9c58;
        }

        .btn-danger {
            background-color: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background-color: #d32f53;
        }

        .btn-info {
            background-color: var(--info);
            color: white;
        }

        .btn-info:hover {
            background-color: #2581b9;
        }

        .language-btn, .theme-btn {
            padding: 8px 15px;
            border-radius: 20px;
            background-color: rgba(114, 47, 55, 0.1);
            color: var(--primary);
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            white-space: nowrap;
        }

        .language-btn:hover, .theme-btn:hover {
            background-color: rgba(114, 47, 55, 0.2);
        }

        .language-btn.active {
            background-color: var(--primary);
            color: white;
        }

        /* Hero Section */
        .hero {
            padding: 80px 0;
            text-align: center;
            background: linear-gradient(135deg, rgba(114, 47, 55, 0.05) 0%, rgba(114, 47, 55, 0.15) 100%);
            border-radius: 0 0 40px 40px;
            margin-bottom: 40px;
        }

        .hero-title {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--dark);
        }

        .hero-subtitle {
            font-size: 20px;
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto 40px;
        }

        .hero-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        body.dark-mode .hero {
            background: linear-gradient(135deg, rgba(114, 47, 55, 0.1) 0%, rgba(114, 47, 55, 0.2) 100%);
        }

        body.rtl .hero-title, body.rtl .hero-subtitle {
            font-family: 'Cairo', sans-serif;
        }

        /* Features Section */
        .section-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 40px;
            text-align: center;
            color: var(--dark);
        }

        body.rtl .section-title {
            font-family: 'Cairo', sans-serif;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .feature-card {
            background-color: var(--light);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            border: 1px solid rgba(114, 47, 55, 0.1);
            height: 100%;
        }

        body.dark-mode .feature-card {
            background-color: #1e1e1e;
            border-color: rgba(255, 255, 255, 0.1);
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(114, 47, 55, 0.15);
        }

        .feature-icon {
            font-size: 40px;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .feature-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--dark);
        }

        .feature-desc {
            color: var(--gray);
            margin-bottom: 20px;
        }

        /* Decision Wizard */
        .wizard-container {
            background-color: var(--light);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 40px;
            margin-bottom: 60px;
            border: 1px solid rgba(114, 47, 55, 0.1);
        }

        body.dark-mode .wizard-container {
            background-color: #1e1e1e;
            border-color: rgba(255, 255, 255, 0.1);
        }

        .wizard-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 40px;
            position: relative;
            flex-wrap: wrap;
        }

        .wizard-steps::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 3px;
            background-color: #e0e0e0;
            z-index: 1;
        }

        body.rtl .wizard-steps::before {
            left: 0;
            right: 0;
        }

        .wizard-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            flex: 1;
            min-width: 150px;
            margin-bottom: 15px;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--dark);
            transition: var(--transition);
        }

        .step-active .step-number {
            background-color: var(--primary);
            color: white;
        }

        .step-title {
            font-weight: 600;
            font-size: 14px;
            text-align: center;
            color: var(--gray);
        }

        .step-active .step-title {
            color: var(--primary);
        }

        .wizard-content {
            display: none;
        }

        .wizard-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-input, .form-textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: inherit;
            font-size: 16px;
            transition: var(--transition);
            background-color: var(--light);
        }

        body.dark-mode .form-input, body.dark-mode .form-textarea {
            background-color: #2d2d2d;
            border-color: #444;
            color: #f0f0f0;
        }

        .form-input:focus, .form-textarea:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(114, 47, 55, 0.1);
        }

        .options-container {
            margin-top: 20px;
        }

        .option-item {
            background-color: rgba(114, 47, 55, 0.05);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 3px solid var(--primary);
        }

        body.dark-mode .option-item {
            background-color: rgba(114, 47, 55, 0.1);
        }

        body.rtl .option-item {
            border-left: none;
            border-right: 3px solid var(--primary);
        }

        .option-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .option-title-input {
            flex: 1;
            min-width: 200px;
            margin-right: 10px;
        }

        body.rtl .option-title-input {
            margin-right: 0;
            margin-left: 10px;
        }

        .pros-cons-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .analysis-modes {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 10px;
        }

        .analysis-mode-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 15px;
            background-color: rgba(114, 47, 55, 0.05);
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
        }

        body.dark-mode .analysis-mode-option {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .analysis-mode-option:hover {
            background-color: rgba(114, 47, 55, 0.1);
        }

        .pros-list, .cons-list {
            list-style-type: none;
        }

        .pros-list li, .cons-list li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        body.dark-mode .pros-list li, 
        body.dark-mode .cons-list li {
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .wizard-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            flex-wrap: wrap;
            gap: 15px;
        }

        /* Goals Section */
        .goals-container {
            background-color: var(--light);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 40px;
            margin-bottom: 60px;
            border: 1px solid rgba(114, 47, 55, 0.1);
        }

        body.dark-mode .goals-container {
            background-color: #1e1e1e;
            border-color: rgba(255, 255, 255, 0.1);
        }

        .goals-list {
            margin: 20px 0;
        }

        .goal-item {
            background-color: rgba(32, 191, 107, 0.05);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 3px solid var(--success);
        }

        body.dark-mode .goal-item {
            background-color: rgba(32, 191, 107, 0.1);
        }

        body.rtl .goal-item {
            border-left: none;
            border-right: 3px solid var(--success);
        }

        .goal-content {
            flex: 1;
        }

        .goal-importance {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 5px;
        }

        .importance-star {
            color: #ddd;
            cursor: pointer;
            transition: var(--transition);
            font-size: 18px;
        }

        .importance-star.active {
            color: #ffc107;
        }

        .goal-match {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .match-slider {
            flex: 1;
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            position: relative;
        }

        .match-fill {
            height: 100%;
            border-radius: 4px;
            background-color: var(--success);
            width: 0%;
            transition: width 0.5s ease;
        }

        .match-percentage {
            font-weight: 600;
            min-width: 40px;
            text-align: center;
        }

        /* Simple Decision Helper */
        .simple-helper-container {
            background-color: var(--light);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 40px;
            margin-bottom: 60px;
            border: 1px solid rgba(114, 47, 55, 0.1);
            text-align: center;
        }

        body.dark-mode .simple-helper-container {
            background-color: #1e1e1e;
            border-color: rgba(255, 255, 255, 0.1);
        }

        .simple-question {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 40px;
            color: var(--dark);
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .simple-answers {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .simple-btn {
            padding: 20px 40px;
            font-size: 18px;
            font-weight: 700;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            min-width: 150px;
        }

        .simple-yes-btn {
            background-color: var(--success);
            color: white;
        }

        .simple-yes-btn:hover {
            background-color: #1a9c58;
            transform: scale(1.05);
        }

        .simple-no-btn {
            background-color: var(--danger);
            color: white;
        }

        .simple-no-btn:hover {
            background-color: #d32f53;
            transform: scale(1.05);
        }

        .simple-maybe-btn {
            background-color: var(--warning);
            color: white;
        }

        .simple-maybe-btn:hover {
            background-color: #e97129;
            transform: scale(1.05);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--primary);
            border-radius: 4px;
            width: 0%;
            transition: width 0.5s ease;
        }

        .progress-text {
            font-weight: 600;
            color: var(--gray);
            margin-bottom: 30px;
        }

        /* Results Section */
        .results-container {
            background-color: var(--light);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 40px;
            margin-bottom: 60px;
            border: 1px solid rgba(114, 47, 55, 0.1);
        }

        body.dark-mode .results-container {
            background-color: #1e1e1e;
            border-color: rgba(255, 255, 255, 0.1);
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .result-score {
            font-size: 36px;
            font-weight: 700;
            color: var(--primary);
        }

        .result-option {
            background-color: rgba(114, 47, 55, 0.05);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid var(--primary);
        }

        body.dark-mode .result-option {
            background-color: rgba(114, 47, 55, 0.1);
        }

        body.rtl .result-option {
            border-left: none;
            border-right: 5px solid var(--primary);
        }

        .recommendation {
            background-color: rgba(114, 47, 55, 0.05);
            border-radius: 8px;
            padding: 30px;
            margin-top: 30px;
        }

        body.dark-mode .recommendation {
            background-color: rgba(114, 47, 55, 0.1);
        }

        .goal-alignment {
            margin-top: 20px;
            padding: 20px;
            background-color: rgba(32, 191, 107, 0.05);
            border-radius: 8px;
            border-left: 3px solid var(--success);
        }

        body.dark-mode .goal-alignment {
            background-color: rgba(32, 191, 107, 0.1);
        }

        body.rtl .goal-alignment {
            border-left: none;
            border-right: 3px solid var(--success);
        }

        /* Templates Section */
        .templates {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 60px;
        }

        .template-card {
            background-color: var(--light);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            cursor: pointer;
            text-align: center;
            border: 1px solid rgba(114, 47, 55, 0.1);
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        body.dark-mode .template-card {
            background-color: #1e1e1e;
            border-color: rgba(255, 255, 255, 0.1);
        }

        .template-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(114, 47, 55, 0.15);
        }

        .template-icon {
            font-size: 40px;
            color: var(--primary);
            margin-bottom: 15px;
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 60px 0 30px;
            margin-top: 60px;
        }

        body.dark-mode footer {
            background-color: #0a0a0a;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-logo {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 15px;
            color: white;
        }

        .footer-desc {
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 20px;
        }

        .footer-heading {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            color: white;
        }

        .footer-links {
            list-style-type: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: white;
            padding-left: 5px;
        }

        body.rtl .footer-links a:hover {
            padding-left: 0;
            padding-right: 5px;
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
        }

        .copyright .created-by {
            margin-top: 10px;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.5);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: var(--light);
            width: 100%;
            max-width: 400px;
            border-radius: var(--border-radius);
            padding: 30px;
            position: relative;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            max-height: 90vh;
            overflow-y: auto;
        }

        body.dark-mode .modal-content {
            background-color: #1e1e1e;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--gray);
            transition: var(--transition);
            z-index: 1;
        }

        body.rtl .modal-close {
            right: auto;
            left: 15px;
        }

        .modal-close:hover {
            color: var(--primary);
        }

        .modal-title {
            margin-bottom: 20px;
            color: var(--dark);
        }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed;
            top: 0;
            right: -300px;
            width: 300px;
            height: 100%;
            background-color: var(--light);
            z-index: 2001;
            transition: var(--transition);
            padding: 80px 30px 30px;
            box-shadow: -5px 0 25px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
        }

        body.rtl .mobile-menu {
            right: auto;
            left: -300px;
        }

        body.dark-mode .mobile-menu {
            background-color: #1e1e1e;
        }

        .mobile-menu.active {
            right: 0;
        }

        body.rtl .mobile-menu.active {
            right: auto;
            left: 0;
        }

        .mobile-menu .nav-controls {
            flex-direction: column;
            align-items: flex-start;
            gap: 20px;
        }

        .mobile-menu-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 28px;
            color: var(--primary);
            cursor: pointer;
        }

        body.rtl .mobile-menu-close {
            right: auto;
            left: 20px;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .hero-title {
                font-size: 36px;
            }
            
            .section-title {
                font-size: 28px;
            }
            
            .wizard-container, .results-container, .goals-container, .simple-helper-container {
                padding: 30px;
            }
            
            .simple-question {
                font-size: 20px;
            }
            
            .simple-btn {
                padding: 15px 30px;
                min-width: 120px;
            }
        }

        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
            
            .nav-controls:not(.mobile-menu .nav-controls) {
                display: none;
            }
            
            .header-container {
                padding: 10px 0;
            }
            
            .hero {
                padding: 60px 0;
            }
            
            .hero-title {
                font-size: 32px;
            }
            
            .hero-subtitle {
                font-size: 18px;
            }
            
            .hero-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .wizard-steps {
                flex-direction: column;
                gap: 20px;
            }
            
            .wizard-steps::before {
                display: none;
            }
            
            .wizard-step {
                min-width: 100%;
                align-items: flex-start;
                flex-direction: row;
                gap: 15px;
            }
            
            .step-number {
                margin-bottom: 0;
            }
            
            .pros-cons-container {
                grid-template-columns: 1fr;
            }
            
            .wizard-buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .option-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .option-title-input {
                min-width: 100%;
                margin-right: 0;
                margin-bottom: 10px;
            }
            
            body.rtl .option-title-input {
                margin-left: 0;
            }
            
            .analysis-modes {
                flex-direction: column;
            }
            
            .feature-card, .template-card {
                padding: 20px;
            }
            
            .features, .templates {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .simple-answers {
                flex-direction: column;
                align-items: center;
            }
            
            .simple-btn {
                width: 100%;
                max-width: 250px;
            }
            
            .welcome-content {
                padding: 15px;
            }
            
            .welcome-header, .welcome-body, .welcome-footer {
                padding: 20px;
            }
            
            .welcome-step {
                flex-direction: column;
                text-align: center;
                padding: 20px;
            }
            
            .step-icon {
                margin-right: 0;
                margin-bottom: 15px;
            }
            
            body.rtl .step-icon {
                margin-left: 0;
                margin-bottom: 15px;
            }
            
            .goal-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 28px;
            }
            
            .hero-subtitle {
                font-size: 16px;
            }
            
            .section-title {
                font-size: 24px;
            }
            
            .logo-text {
                font-size: 20px;
            }
            
            .wizard-container, .results-container, .goals-container, .simple-helper-container {
                padding: 20px;
            }
            
            .simple-question {
                font-size: 18px;
            }
            
            .welcome-step {
                padding: 15px;
            }
            
            .welcome-footer {
                flex-direction: column;
                align-items: stretch;
            }
            
            .welcome-footer .btn {
                width: 100%;
            }
        }

        /* Utility Classes */
        .text-center {
            text-align: center;
        }
        
        .mt-20 {
            margin-top: 20px;
        }
        
        .mb-20 {
            margin-bottom: 20px;
        }
        
        .d-none {
            display: none !important;
        }
        
        .d-flex {
            display: flex;
        }
        
        .flex-column {
            flex-direction: column;
        }
        
        .align-center {
            align-items: center;
        }
        
        .justify-between {
            justify-content: space-between;
        }
        
        .gap-10 {
            gap: 10px;
        }
        
        .gap-20 {
            gap: 20px;
        }
    </style>
</head>
<body>
    <!-- Welcome Modal -->
    <div class="welcome-modal" id="welcome-modal">
        <div class="welcome-content">
            <div class="welcome-header">
                <h2 id="welcome-title">Welcome to الفزعة / The Saver</h2>
                <p id="welcome-subtitle">Your Intelligent Decision-Making Assistant</p>
            </div>
            <div class="welcome-body">
                <div class="welcome-step">
                    <div class="step-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="step-content">
                        <h3 id="welcome-step1-title">Smart Decision Making</h3>
                        <p id="welcome-step1-desc">Our AI-powered tool helps you make better decisions by evaluating options, comparing pros & cons, and providing data-driven recommendations.</p>
                    </div>
                </div>
                <div class="welcome-step">
                    <div class="step-icon">
                        <i class="fas fa-bullseye"></i>
                    </div>
                    <div class="step-content">
                        <h3 id="welcome-step2-title">Goal-Based Analysis</h3>
                        <p id="welcome-step2-desc">Define your personal or professional goals and see how each decision option aligns with them for truly personalized recommendations.</p>
                    </div>
                </div>
                <div class="welcome-step">
                    <div class="step-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="step-content">
                        <h3 id="welcome-step3-title">Simple Decision Helper</h3>
                        <p id="welcome-step3-desc">Answer simple yes/no questions for quick guidance when you need immediate clarity on a decision. 10-15 questions for comprehensive analysis.</p>
                    </div>
                </div>
                <div class="welcome-step">
                    <div class="step-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <div class="step-content">
                        <h3 id="welcome-step4-title">Analytic Decision Helper</h3>
                        <p id="welcome-step4-desc">Comprehensive decision analysis with goals, pros/cons, and weighted scoring for complex decisions requiring detailed evaluation.</p>
                    </div>
                </div>
            </div>
            <div class="welcome-footer">
                <div class="welcome-checkbox">
                    <input type="checkbox" id="dont-show-again">
                    <label for="dont-show-again" id="dont-show-label">Don't show this again</label>
                </div>
                <button class="btn btn-primary" id="start-using-btn">
                    <i class="fas fa-rocket"></i>
                    <span id="start-using-text">Start Using The Saver</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo" id="home-link">
                <i class="fas fa-lightbulb logo-icon"></i>
                <div class="logo-text" id="logo-text">الفزعة / The Saver</div>
            </div>
            <button class="mobile-menu-btn" id="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
            <div class="nav-controls">
                <div class="language-switch">
                    <button class="language-btn active" id="lang-en">English</button>
                    <button class="language-btn" id="lang-ar">العربية</button>
                </div>
                <div class="theme-toggle">
                    <button class="theme-btn" id="theme-toggle">
                        <i class="fas fa-moon"></i>
                        <span id="theme-text">Dark Mode</span>
                    </button>
                </div>
                <div class="auth-buttons">
                    <button class="btn btn-outline btn-small" id="login-btn">
                        <i class="fas fa-sign-in-alt"></i>
                        <span id="login-text">Login</span>
                    </button>
                    <button class="btn btn-primary btn-small" id="signup-btn">
                        <i class="fas fa-user-plus"></i>
                        <span id="signup-text">Sign Up</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
        <button class="mobile-menu-close" id="mobile-menu-close">
            <i class="fas fa-times"></i>
        </button>
        <div class="nav-controls">
            <div class="language-switch">
                <button class="language-btn active" id="mobile-lang-en">English</button>
                <button class="language-btn" id="mobile-lang-ar">العربية</button>
            </div>
            <div class="theme-toggle">
                <button class="theme-btn" id="mobile-theme-toggle">
                    <i class="fas fa-moon"></i>
                    <span id="mobile-theme-text">Dark Mode</span>
                </button>
            </div>
            <div class="auth-buttons">
                <button class="btn btn-outline btn-small" id="mobile-login-btn">
                    <i class="fas fa-sign-in-alt"></i>
                    <span id="mobile-login-text">Login</span>
                </button>
                <button class="btn btn-primary btn-small" id="mobile-signup-btn">
                    <i class="fas fa-user-plus"></i>
                    <span id="mobile-signup-text">Sign Up</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1 class="hero-title" id="hero-title">Make Smarter Decisions with Confidence</h1>
            <p class="hero-subtitle" id="hero-subtitle">
                Our intelligent decision-making assistant helps you evaluate options, compare pros & cons, 
                analyze risks, align with goals, and get data-driven recommendations. Simplify complex choices today.
            </p>
            <div class="hero-actions">
                <button class="btn btn-primary" id="start-analytic-btn">
                    <i class="fas fa-chart-bar"></i>
                    <span id="start-analytic-text">Analytic Decision Helper</span>
                </button>
                <button class="btn btn-success" id="start-simple-btn">
                    <i class="fas fa-check-circle"></i>
                    <span id="start-simple-text">Simple Decision Helper</span>
                </button>
                <button class="btn btn-info" id="start-goals-btn">
                    <i class="fas fa-bullseye"></i>
                    <span id="start-goals-text">Set Your Goals</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container">
        <!-- Features Section -->
        <section id="features">
            <h2 class="section-title" id="features-title">Core Features</h2>
            <div class="features">
                <div class="feature-card">
                    <i class="fas fa-bullseye feature-icon"></i>
                    <h3 class="feature-title" id="feature1-title">Goal-Based Decisions</h3>
                    <p class="feature-desc" id="feature1-desc">
                        Define your personal, career, or financial goals. Our system analyzes how each decision option aligns with your goals.
                    </p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-check-circle feature-icon"></i>
                    <h3 class="feature-title" id="feature2-title">Simple Decision Helper</h3>
                    <p class="feature-desc" id="feature2-desc">
                        Get quick guidance by answering 10-15 simple yes/no questions. Perfect for when you need immediate clarity.
                    </p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-chart-bar feature-icon"></i>
                    <h3 class="feature-title" id="feature3-title">Analytic Decision Helper</h3>
                    <p class="feature-desc" id="feature3-desc">
                        Comprehensive step-by-step analysis with goals, pros/cons, and weighted scoring for complex decisions.
                    </p>
                </div>
            </div>
        </section>

        <!-- Goals Section -->
        <section id="goals-section">
            <h2 class="section-title" id="goals-title">Define Your Goals</h2>
            <div class="goals-container">
                <p id="goals-description" class="mb-20">
                    Define your personal, career, or financial goals. The system will analyze how each decision option aligns with these goals.
                </p>
                <div class="form-group">
                    <label for="new-goal" class="form-label" id="new-goal-label">
                        Add a new goal
                    </label>
                    <div class="d-flex gap-10">
                        <input type="text" id="new-goal" class="form-input" placeholder="E.g., Save money for education">
                        <button class="btn btn-primary" id="add-goal-btn">
                            <i class="fas fa-plus"></i>
                            <span id="add-goal-text">Add Goal</span>
                        </button>
                    </div>
                </div>
                <div class="goals-list" id="goals-list">
                    <!-- Goals will be added here dynamically -->
                </div>
                <div class="wizard-buttons">
                    <button class="btn btn-outline" id="clear-goals-btn">
                        <i class="fas fa-trash"></i>
                        <span id="clear-goals-text">Clear All Goals</span>
                    </button>
                    <button class="btn btn-success" id="use-goals-btn">
                        <i class="fas fa-check-circle"></i>
                        <span id="use-goals-text">Use These Goals in Decision</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- Simple Decision Helper -->
        <section id="simple-helper-section">
            <h2 class="section-title" id="simple-helper-title">Simple Decision Helper</h2>
            <div class="simple-helper-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="simple-progress"></div>
                </div>
                <div class="progress-text" id="simple-progress-text">Question 1 of 15</div>
                <div class="simple-question" id="simple-question">
                    Is this decision aligned with your long-term goals and values?
                </div>
                <div class="simple-answers">
                    <button class="simple-btn simple-yes-btn" id="simple-yes-btn">
                        <i class="fas fa-check"></i>
                        <span id="simple-yes-text">Yes</span>
                    </button>
                    <button class="simple-btn simple-no-btn" id="simple-no-btn">
                        <i class="fas fa-times"></i>
                        <span id="simple-no-text">No</span>
                    </button>
                    <button class="simple-btn simple-maybe-btn" id="simple-maybe-btn">
                        <i class="fas fa-question"></i>
                        <span id="simple-maybe-text">Maybe / Not Sure</span>
                    </button>
                </div>
                <div class="wizard-buttons">
                    <button class="btn btn-outline" id="restart-simple-btn">
                        <i class="fas fa-redo"></i>
                        <span id="restart-simple-text">Restart Questions</span>
                    </button>
                    <button class="btn btn-primary" id="finish-simple-btn">
                        <i class="fas fa-chart-bar"></i>
                        <span id="finish-simple-text">Get Recommendation</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- Analytic Decision Helper -->
        <section id="analytic-helper">
            <h2 class="section-title" id="analytic-helper-title">Analytic Decision Helper</h2>
            <div class="wizard-container">
                <div class="wizard-steps">
                    <div class="wizard-step step-active">
                        <div class="step-number">1</div>
                        <div class="step-title" id="step1-title">Decision & Goals</div>
                    </div>
                    <div class="wizard-step">
                        <div class="step-number">2</div>
                        <div class="step-title" id="step2-title">Options</div>
                    </div>
                    <div class="wizard-step">
                        <div class="step-number">3</div>
                        <div class="step-title" id="step3-title">Pros & Cons</div>
                    </div>
                    <div class="wizard-step">
                        <div class="step-number">4</div>
                        <div class="step-title" id="step4-title">Analysis & Results</div>
                    </div>
                </div>

                <!-- Step 1: Decision Title & Goals -->
                <div class="wizard-content active" id="step1-content">
                    <div class="form-group">
                        <label for="decision-title" class="form-label" id="decision-title-label">
                            What decision are you trying to make?
                        </label>
                        <input type="text" id="decision-title" class="form-input" placeholder="E.g., Choosing a university major">
                    </div>
                    <div class="form-group">
                        <label for="decision-description" class="form-label" id="decision-desc-label">
                            Describe your decision (optional)
                        </label>
                        <textarea id="decision-description" class="form-textarea" rows="3" placeholder="Add more details about your decision..."></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label" id="goals-include-label">
                            Include your goals in decision analysis?
                        </label>
                        <div class="analysis-modes">
                            <label class="analysis-mode-option">
                                <input type="radio" name="include-goals" value="yes" checked>
                                <span id="include-goals-yes-text">Yes, use my defined goals</span>
                            </label>
                            <label class="analysis-mode-option">
                                <input type="radio" name="include-goals" value="no">
                                <span id="include-goals-no-text">No, just analyze pros/cons</span>
                            </label>
                        </div>
                    </div>
                    <div id="selected-goals-preview" class="mt-20">
                        <!-- Selected goals will be shown here -->
                    </div>
                    <div class="wizard-buttons">
                        <button class="btn btn-outline" disabled>
                            <i class="fas fa-arrow-left"></i>
                            <span id="prev-step1-text">Previous</span>
                        </button>
                        <button class="btn btn-primary" id="next-to-step2">
                            <span id="next-step1-text">Next: Add Options</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 2: Options -->
                <div class="wizard-content" id="step2-content">
                    <div class="form-group">
                        <label class="form-label" id="options-label">
                            Add your options (at least 2 required)
                        </label>
                        <div id="options-container">
                            <!-- Options will be added here dynamically -->
                        </div>
                        <button class="btn btn-outline" id="add-option-btn">
                            <i class="fas fa-plus"></i>
                            <span id="add-option-text">Add Another Option</span>
                        </button>
                    </div>
                    <div class="wizard-buttons">
                        <button class="btn btn-outline" id="prev-to-step1">
                            <i class="fas fa-arrow-left"></i>
                            <span id="prev-step2-text">Previous</span>
                        </button>
                        <button class="btn btn-primary" id="next-to-step3">
                            <span id="next-step2-text">Next: Pros & Cons</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 3: Pros & Cons -->
                <div class="wizard-content" id="step3-content">
                    <div class="form-group">
                        <label class="form-label" id="pros-cons-label">
                            Add pros and cons for each option
                        </label>
                        <div id="pros-cons-container">
                            <!-- This will be populated by JavaScript -->
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" id="analysis-mode-label">
                            Analysis Mode
                        </label>
                        <div class="analysis-modes">
                            <label class="analysis-mode-option">
                                <input type="radio" name="analysis-mode" value="simple" checked>
                                <span id="simple-mode-text">Simple Recommendation</span>
                            </label>
                            <label class="analysis-mode-option">
                                <input type="radio" name="analysis-mode" value="weighted">
                                <span id="weighted-mode-text">Weighted Analysis</span>
                            </label>
                            <label class="analysis-mode-option">
                                <input type="radio" name="analysis-mode" value="goal-based">
                                <span id="goal-mode-text">Goal-Based Analysis</span>
                            </label>
                        </div>
                    </div>
                    <div class="wizard-buttons">
                        <button class="btn btn-outline" id="prev-to-step2">
                            <i class="fas fa-arrow-left"></i>
                            <span id="prev-step3-text">Previous</span>
                        </button>
                        <button class="btn btn-primary" id="analyze-btn">
                            <i class="fas fa-chart-bar"></i>
                            <span id="analyze-text">Analyze & Get Recommendations</span>
                        </button>
                    </div>
                </div>

                <!-- Step 4: Results -->
                <div class="wizard-content" id="step4-content">
                    <div class="results-header">
                        <h3 id="results-title">Analysis Results</h3>
                        <div class="result-score" id="result-score">0%</div>
                    </div>
                    <div id="results-display">
                        <!-- Results will be populated by JavaScript -->
                    </div>
                    <div class="recommendation">
                        <h4 id="recommendation-title">Recommendation</h4>
                        <p id="recommendation-text">
                            <!-- Recommendation text will be added by JavaScript -->
                        </p>
                        <div id="goal-alignment-container" class="goal-alignment">
                            <!-- Goal alignment results will be added here -->
                        </div>
                        <div class="wizard-buttons" style="margin-top: 20px;">
                            <button class="btn btn-primary" id="save-decision-btn">
                                <i class="fas fa-save"></i>
                                <span id="save-decision-text">Save This Decision</span>
                            </button>
                            <button class="btn btn-outline" id="new-decision-btn">
                                <i class="fas fa-redo"></i>
                                <span id="new-decision-text">Start New Decision</span>
                            </button>
                        </div>
                    </div>
                    <div class="wizard-buttons" style="margin-top: 30px;">
                        <button class="btn btn-outline" id="prev-to-step3">
                            <i class="fas fa-arrow-left"></i>
                            <span id="prev-step4-text">Previous</span>
                        </button>
                        <button class="btn btn-primary" id="finish-wizard-btn">
                            <i class="fas fa-check-circle"></i>
                            <span id="finish-text">Finish</span>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Templates Section -->
        <section id="templates">
            <h2 class="section-title" id="templates-title">Pre-made Decision Templates</h2>
            <div class="templates">
                <div class="template-card" data-template="university">
                    <i class="fas fa-university template-icon"></i>
                    <h3 id="template1-title">University Major</h3>
                    <p id="template1-desc">Choose the right university major based on your interests and career goals.</p>
                </div>
                <div class="template-card" data-template="career">
                    <i class="fas fa-briefcase template-icon"></i>
                    <h3 id="template2-title">Career Change</h3>
                    <p id="template2-desc">Evaluate whether to change careers or stay in your current position.</p>
                </div>
                <div class="template-card" data-template="car">
                    <i class="fas fa-car template-icon"></i>
                    <h3 id="template3-title">Buying a Car</h3>
                    <p id="template3-desc">Compare different car models based on price, features, and reliability.</p>
                </div>
                <div class="template-card" data-template="study">
                    <i class="fas fa-graduation-cap template-icon"></i>
                    <h3 id="template4-title">Study Programs</h3>
                    <p id="template4-desc">Choose between different study programs or certifications.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <div class="footer-logo" id="footer-logo-text">الفزعة / The Saver</div>
                    <p class="footer-desc" id="footer-desc">
                        A smart decision-making assistant designed to help you make better choices 
                        with confidence and clarity.
                    </p>
                </div>
                <div class="footer-column">
                    <h3 class="footer-heading" id="quick-links-title">Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#features" id="footer-link1">Features</a></li>
                        <li><a href="#goals-section" id="footer-link2">Goals</a></li>
                        <li><a href="#simple-helper-section" id="footer-link3">Simple Helper</a></li>
                        <li><a href="#analytic-helper" id="footer-link4">Analytic Helper</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3 class="footer-heading" id="support-title">Support</h3>
                    <ul class="footer-links">
                        <li><a href="#" id="footer-link5">Help Center</a></li>
                        <li><a href="#" id="footer-link6">Contact Us</a></li>
                        <li><a href="#" id="footer-link7">Privacy Policy</a></li>
                        <li><a href="#" id="footer-link8">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p id="copyright-text">© 2025 / The Saver. All rights reserved</p>
                <p class="created-by">Created by Logaine 2025</p>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div class="modal" id="login-modal">
        <div class="modal-content">
            <button class="modal-close" id="close-login-modal">×</button>
            <h3 class="modal-title" id="login-modal-title">Login to Your Account</h3>
            <div class="modal-body">
                <div class="form-group">
                    <input type="email" id="login-email" class="form-input" placeholder="Email address">
                </div>
                <div class="form-group">
                    <input type="password" id="login-password" class="form-input" placeholder="Password">
                </div>
                <button class="btn btn-primary" id="modal-login-btn" style="width: 100%;">Login</button>
                <div style="text-align: center; margin: 20px 0; color: var(--gray);">OR</div>
                <button class="btn btn-outline" style="width: 100%; display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 10px;">
                    <i class="fab fa-google"></i>
                    <span id="google-login-text">Continue with Google</span>
                </button>
                <button class="btn btn-outline" style="width: 100%; display: flex; align-items: center; justify-content: center; gap: 10px;">
                    <i class="fab fa-facebook-f"></i>
                    <span id="facebook-login-text">Continue with Facebook</span>
                </button>
                <div style="text-align: center; margin-top: 20px;">
                    <span id="no-account-text">Don't have an account?</span>
                    <a href="#" id="switch-to-signup" style="color: var(--primary); font-weight: 600; margin-left: 5px;">Sign up</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Language data
        const translations = {
            en: {
                // Welcome Modal
                "welcome-title": "Welcome to The Saver",
                "welcome-subtitle": "Your Intelligent Decision-Making Assistant",
                "welcome-step1-title": "Smart Decision Making",
                "welcome-step1-desc": "Our AI-powered tool helps you make better decisions by evaluating options, comparing pros & cons, and providing data-driven recommendations.",
                "welcome-step2-title": "Goal-Based Analysis",
                "welcome-step2-desc": "Define your personal or professional goals and see how each decision option aligns with them for truly personalized recommendations.",
                "welcome-step3-title": "Simple Decision Helper",
                "welcome-step3-desc": "Answer simple yes/no questions for quick guidance when you need immediate clarity on a decision. 10-15 questions for comprehensive analysis.",
                "welcome-step4-title": "Analytic Decision Helper",
                "welcome-step4-desc": "Comprehensive decision analysis with goals, pros/cons, and weighted scoring for complex decisions requiring detailed evaluation.",
                "dont-show-label": "Don't show this again",
                "start-using-text": "Start Using The Saver",
                
                // Header
                "logo-text": "The Saver",
                "login-text": "Login",
                "signup-text": "Sign Up",
                "theme-text": "Dark Mode",
                
                // Hero
                "hero-title": "Make Smarter Decisions with Confidence",
                "hero-subtitle": "Our intelligent decision-making assistant helps you evaluate options, compare pros & cons, analyze risks, align with goals, and get data-driven recommendations. Simplify complex choices today.",
                "start-analytic-text": "Analytic Decision Helper",
                "start-simple-text": "Simple Decision Helper",
                "start-goals-text": "Set Your Goals",
                
                // Features
                "features-title": "Core Features",
                "feature1-title": "Goal-Based Decisions",
                "feature1-desc": "Define your personal, career, or financial goals. Our system analyzes how each decision option aligns with your goals.",
                "feature2-title": "Simple Decision Helper",
                "feature2-desc": "Get quick guidance by answering 10-15 simple yes/no questions. Perfect for when you need immediate clarity.",
                "feature3-title": "Analytic Decision Helper",
                "feature3-desc": "Comprehensive step-by-step analysis with goals, pros/cons, and weighted scoring for complex decisions.",
                
                // Goals Section
                "goals-title": "Define Your Goals",
                "goals-description": "Define your personal, career, or financial goals. The system will analyze how each decision option aligns with these goals.",
                "new-goal-label": "Add a new goal",
                "add-goal-text": "Add Goal",
                "clear-goals-text": "Clear All Goals",
                "use-goals-text": "Use These Goals in Decision",
                "goal-importance-label": "Importance",
                "goal-match-label": "Match with decision",
                
                // Simple Helper
                "simple-helper-title": "Simple Decision Helper",
                "simple-yes-text": "Yes",
                "simple-no-text": "No",
                "simple-maybe-text": "Maybe / Not Sure",
                "restart-simple-text": "Restart Questions",
                "finish-simple-text": "Get Recommendation",
                
                // Analytic Helper
                "analytic-helper-title": "Analytic Decision Helper",
                "step1-title": "Decision & Goals",
                "step2-title": "Options",
                "step3-title": "Pros & Cons",
                "step4-title": "Analysis & Results",
                "decision-title-label": "What decision are you trying to make?",
                "decision-desc-label": "Describe your decision (optional)",
                "goals-include-label": "Include your goals in decision analysis?",
                "include-goals-yes-text": "Yes, use my defined goals",
                "include-goals-no-text": "No, just analyze pros/cons",
                "prev-step1-text": "Previous",
                "next-step1-text": "Next: Add Options",
                "options-label": "Add your options (at least 2 required)",
                "add-option-text": "Add Another Option",
                "prev-step2-text": "Previous",
                "next-step2-text": "Next: Pros & Cons",
                "pros-cons-label": "Add pros and cons for each option",
                "analysis-mode-label": "Analysis Mode",
                "simple-mode-text": "Simple Recommendation",
                "weighted-mode-text": "Weighted Analysis",
                "goal-mode-text": "Goal-Based Analysis",
                "prev-step3-text": "Previous",
                "analyze-text": "Analyze & Get Recommendations",
                "results-title": "Analysis Results",
                "recommendation-title": "Recommendation",
                "save-decision-text": "Save This Decision",
                "new-decision-text": "Start New Decision",
                "prev-step4-text": "Previous",
                "finish-text": "Finish",
                "goal-alignment-title": "Goal Alignment Analysis",
                
                // Templates
                "templates-title": "Pre-made Decision Templates",
                "template1-title": "University Major",
                "template1-desc": "Choose the right university major based on your interests and career goals.",
                "template2-title": "Career Change",
                "template2-desc": "Evaluate whether to change careers or stay in your current position.",
                "template3-title": "Buying a Car",
                "template3-desc": "Compare different car models based on price, features, and reliability.",
                "template4-title": "Study Programs",
                "template4-desc": "Choose between different study programs or certifications.",
                
                // Footer
                "footer-logo-text": "The Saver",
                "footer-desc": "A smart decision-making assistant designed to help you make better choices with confidence and clarity.",
                "quick-links-title": "Quick Links",
                "footer-link1": "Features",
                "footer-link2": "Goals",
                "footer-link3": "Simple Helper",
                "footer-link4": "Analytic Helper",
                "support-title": "Support",
                "footer-link5": "Help Center",
                "footer-link6": "Contact Us",
                "footer-link7": "Privacy Policy",
                "footer-link8": "Terms of Service",
                "copyright-text": "© 2025 / The Saver. All rights reserved",
                
                // Login Modal
                "login-modal-title": "Login to Your Account",
                "google-login-text": "Continue with Google",
                "facebook-login-text": "Continue with Facebook",
                "no-account-text": "Don't have an account?",
            },
            ar: {
                // Welcome Modal
                "welcome-title": "مرحبًا بكم في الفزعة",
                "welcome-subtitle": "مساعدك الذكي لاتخاذ القرارات",
                "welcome-step1-title": "صنع القرارات الذكية",
                "welcome-step1-desc": "تساعدك أداتنا المدعومة بالذكاء الاصطناعي على اتخاذ قرارات أفضل من خلال تقييم الخيارات ومقارنة الإيجابيات والسلبيات وتقديم توصيات مدعومة بالبيانات.",
                "welcome-step2-title": "تحليل قائم على الأهداف",
                "welcome-step2-desc": "حدد أهدافك الشخصية أو المهنية وشاهد كيف يتوافق كل خيار قرار معها للحصول على توصيات مخصصة حقًا.",
                "welcome-step3-title": "مساعد القرار البسيط",
                "welcome-step3-desc": "أجب على 10-15 سؤالًا بسيطًا بنعم/لا للحصول على توجيه سريع عندما تحتاج إلى وضوح فوري بشأن قرار.",
                "welcome-step4-title": "مساعد القرار التحليلي",
                "welcome-step4-desc": "تحليل قرار شامل مع الأهداف والإيجابيات والسلبيات والتقييم الموزون للقرارات المعقدة التي تتطلب تقييمًا مفصلاً.",
                "dont-show-label": "لا تظهر هذا مرة أخرى",
                "start-using-text": "ابدأ استخدام الفزعة",
                
                // Header
                "logo-text": "الفزعة",
                "login-text": "تسجيل الدخول",
                "signup-text": "إنشاء حساب",
                "theme-text": "الوضع الداكن",
                
                // Hero
                "hero-title": "اتخذ قرارات أكثر ذكاءً بثقة",
                "hero-subtitle": "يساعدك مساعد اتخاذ القرارات الذكي في تقييم الخيارات ومقارنة الإيجابيات والسلبيات وتحليل المخاطر والتوافق مع الأهداف والحصول على توصيات مدعومة بالبيانات. بسّط الخيارات المعقدة اليوم.",
                "start-analytic-text": "مساعد القرار التحليلي",
                "start-simple-text": "مساعد القرار البسيط",
                "start-goals-text": "حدد أهدافك",
                
                // Features
                "features-title": "الميزات الأساسية",
                "feature1-title": "قرارات قائمة على الأهداف",
                "feature1-desc": "حدد أهدافك الشخصية أو المهنية أو المالية. يحلل نظامنا كيف يتوافق كل خيار قرار مع أهدافك.",
                "feature2-title": "مساعد القرار البسيط",
                "feature2-desc": "احصل على توجيه سريع من خلال الإجابة على 10-15 سؤالًا بسيطًا بنعم/لا. مثالي عندما تحتاج إلى وضوح فوري.",
                "feature3-title": "مساعد القرار التحليلي",
                "feature3-desc": "تحليل خطوة بخطوة شامل مع الأهداف والإيجابيات والسلبيات والتقييم الموزون للقرارات المعقدة.",
                
                // Goals Section
                "goals-title": "حدد أهدافك",
                "goals-description": "حدد أهدافك الشخصية أو المهنية أو المالية. سيقوم النظام بتحليل كيفية توافق كل خيار قرار مع هذه الأهداف.",
                "new-goal-label": "أضف هدفًا جديدًا",
                "add-goal-text": "إضافة هدف",
                "clear-goals-text": "مسح جميع الأهداف",
                "use-goals-text": "استخدم هذه الأهداف في القرار",
                "goal-importance-label": "الأهمية",
                "goal-match-label": "التوافق مع القرار",
                
                // Simple Helper
                "simple-helper-title": "مساعد القرار البسيط",
                "simple-yes-text": "نعم",
                "simple-no-text": "لا",
                "simple-maybe-text": "ربما / غير متأكد",
                "restart-simple-text": "إعادة الأسئلة",
                "finish-simple-text": "احصل على التوصية",
                
                // Analytic Helper
                "analytic-helper-title": "مساعد القرار التحليلي",
                "step1-title": "القرار والأهداف",
                "step2-title": "الخيارات",
                "step3-title": "الإيجابيات والسلبيات",
                "step4-title": "التحليل والنتائج",
                "decision-title-label": "ما القرار الذي تحاول اتخاذه؟",
                "decision-desc-label": "صف قرارك (اختياري)",
                "goals-include-label": "تضمين أهدافك في تحليل القرار؟",
                "include-goals-yes-text": "نعم، استخدم أهدافي المحددة",
                "include-goals-no-text": "لا، قم بتحليل الإيجابيات والسلبيات فقط",
                "prev-step1-text": "السابق",
                "next-step1-text": "التالي: إضافة خيارات",
                "options-label": "أضف خياراتك (مطلوب خياران على الأقل)",
                "add-option-text": "إضافة خيار آخر",
                "prev-step2-text": "السابق",
                "next-step2-text": "التالي: الإيجابيات والسلبيات",
                "pros-cons-label": "أضف إيجابيات وسلبيات لكل خيار",
                "analysis-mode-label": "وضع التحليل",
                "simple-mode-text": "توصية بسيطة",
                "weighted-mode-text": "تحليل موزون",
                "goal-mode-text": "تحليل قائم على الأهداف",
                "prev-step3-text": "السابق",
                "analyze-text": "تحليل والحصول على توصيات",
                "results-title": "نتائج التحليل",
                "recommendation-title": "التوصية",
                "save-decision-text": "حفظ هذا القرار",
                "new-decision-text": "بدء قرار جديد",
                "prev-step4-text": "السابق",
                "finish-text": "إنهاء",
                "goal-alignment-title": "تحليل التوافق مع الأهداف",
                
                // Templates
                "templates-title": "قوالب القرارات الجاهزة",
                "template1-title": "التخصص الجامعي",
                "template1-desc": "اختر التخصص الجامعي المناسب بناءً على اهتماماتك وأهدافك المهنية.",
                "template2-title": "تغيير الوظيفة",
                "template2-desc": "قيم ما إذا كنت ستغير مهنتك أم تبقى في وظيفتك الحالية.",
                "template3-title": "شراء سيارة",
                "template3-desc": "قارن بين موديلات السيارات المختلفة بناءً على السعر والميزات والموثوقية.",
                "template4-title": "البرامج الدراسية",
                "template4-desc": "اختر بين برامج الدراسة أو الشهادات المختلفة.",
                
                // Footer
                "footer-logo-text": "الفزعة",
                "footer-desc": "مساعد اتخاذ قرارات ذكي مصمم لمساعدتك على اتخاذ خيارات أفضل بثقة ووضوح.",
                "quick-links-title": "روابط سريعة",
                "footer-link1": "الميزات",
                "footer-link2": "الأهداف",
                "footer-link3": "المساعد البسيط",
                "footer-link4": "المساعد التحليلي",
                "support-title": "الدعم",
                "footer-link5": "مركز المساعدة",
                "footer-link6": "اتصل بنا",
                "footer-link7": "سياسة الخصوصية",
                "footer-link8": "شروط الخدمة",
                "copyright-text": "© 2025 الفزعة جميع الحقوق محفوظة",
                
                // Login Modal
                "login-modal-title": "تسجيل الدخول إلى حسابك",
                "google-login-text": "المتابعة باستخدام Google",
                "facebook-login-text": "المتابعة باستخدام Facebook",
                "no-account-text": "ليس لديك حساب؟",
            }
        };

        // App state
        let currentLang = 'en';
        let currentStep = 1;
        let options = ['Option 1', 'Option 2'];
        let prosConsData = {};
        let goals = [];
        let decisions = [];
        let simpleAnswers = [];
        let showWelcomeModal = true;

        // Simple Decision Helper questions data (15 questions)
        const simpleQuestions = {
            en: [
                "Is this decision aligned with your long-term goals and values?",
                "Will this decision positively impact your financial situation?",
                "Does this decision support your personal growth and development?",
                "Will this decision improve your overall quality of life?",
                "Are you emotionally ready to make this decision at this time?",
                "Do you have enough information to make an informed decision?",
                "Will this decision create new opportunities for you?",
                "Does this decision align with your core principles and beliefs?",
                "Will this decision help you build meaningful relationships?",
                "Is this decision reversible if things don't go as planned?",
                "Will this decision bring you closer to your ideal life?",
                "Does this decision consider the impact on others?",
                "Will this decision help reduce stress in your life?",
                "Does this decision make you feel excited about the future?",
                "Is this decision based on facts rather than emotions?"
            ],
            ar: [
                "هل هذا القرار يتوافق مع أهدافك وقيمك طويلة المدى؟",
                "هل سيؤثر هذا القرار بشكل إيجابي على وضعك المالي؟",
                "هل يدعم هذا القرار نموك وتطورك الشخصي؟",
                "هل سيحسن هذا القرار جودة حياتك العامة؟",
                "هل أنت مستعد عاطفيًا لاتخاذ هذا القرار في هذا الوقت؟",
                "هل لديك معلومات كافية لاتخاذ قرار مستنير؟",
                "هل سيخلق هذا القرار فرصًا جديدة لك؟",
                "هل يتوافق هذا القرار مع مبادئك ومعتقداتك الأساسية؟",
                "هل سيساعدك هذا القرار في بناء علاقات ذات معنى؟",
                "هل يمكن عكس هذا القرار إذا لم تسر الأمور كما هو مخطط لها؟",
                "هل سيقربك هذا القرار من حياتك المثالية؟",
                "هل يأخذ هذا القرار في الاعتبار التأثير على الآخرين؟",
                "هل سيساعد هذا القرار في تقليل التوتر في حياتك؟",
                "هل يجعلك هذا القرار تشعر بالحماس تجاه المستقبل؟",
                "هل يعتمد هذا القرار على الحقائق بدلاً من العواطف؟"
            ]
        };

        // DOM Elements
        const body = document.body;
        const welcomeModal = document.getElementById('welcome-modal');
        const startUsingBtn = document.getElementById('start-using-btn');
        const dontShowAgain = document.getElementById('dont-show-again');
        const homeLink = document.getElementById('home-link');
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuClose = document.getElementById('mobile-menu-close');
        const langEnBtn = document.getElementById('lang-en');
        const langArBtn = document.getElementById('lang-ar');
        const mobileLangEnBtn = document.getElementById('mobile-lang-en');
        const mobileLangArBtn = document.getElementById('mobile-lang-ar');
        const themeToggle = document.getElementById('theme-toggle');
        const mobileThemeToggle = document.getElementById('mobile-theme-toggle');
        const themeText = document.getElementById('theme-text');
        const mobileThemeText = document.getElementById('mobile-theme-text');
        const loginBtn = document.getElementById('login-btn');
        const signupBtn = document.getElementById('signup-btn');
        const mobileLoginBtn = document.getElementById('mobile-login-btn');
        const mobileSignupBtn = document.getElementById('mobile-signup-btn');
        const startAnalyticBtn = document.getElementById('start-analytic-btn');
        const startSimpleBtn = document.getElementById('start-simple-btn');
        const startGoalsBtn = document.getElementById('start-goals-btn');
        const loginModal = document.getElementById('login-modal');
        const closeLoginModal = document.getElementById('close-login-modal');
        const wizardSteps = document.querySelectorAll('.wizard-step');
        const wizardContents = document.querySelectorAll('.wizard-content');

        // Initialize the app
        function initApp() {
            // Check if welcome modal should be shown
            const dontShowWelcome = localStorage.getItem('dontShowWelcome');
            if (dontShowWelcome === 'true') {
                welcomeModal.classList.add('hidden');
                body.classList.remove('no-scroll');
                showWelcomeModal = false;
            } else {
                body.classList.add('no-scroll');
                setTimeout(() => {
                    welcomeModal.classList.remove('hidden');
                }, 500);
            }
            
            // Set up welcome modal
            startUsingBtn.addEventListener('click', closeWelcomeModal);
            dontShowAgain.addEventListener('change', function() {
                localStorage.setItem('dontShowWelcome', this.checked);
            });
            
            // Set up mobile menu
            mobileMenuBtn.addEventListener('click', openMobileMenu);
            mobileMenuClose.addEventListener('click', closeMobileMenu);
            
            // Set up home link
            homeLink.addEventListener('click', function(e) {
                e.preventDefault();
                window.scrollTo({ top: 0, behavior: 'smooth' });
                closeMobileMenu();
            });
            
            // Set up language switcher
            langEnBtn.addEventListener('click', () => switchLanguage('en'));
            langArBtn.addEventListener('click', () => switchLanguage('ar'));
            mobileLangEnBtn.addEventListener('click', () => switchLanguage('en'));
            mobileLangArBtn.addEventListener('click', () => switchLanguage('ar'));
            
            // Set up theme toggle
            themeToggle.addEventListener('click', toggleDarkMode);
            mobileThemeToggle.addEventListener('click', toggleDarkMode);
            
            // Set up login/signup buttons
            loginBtn.addEventListener('click', () => showLoginModal());
            signupBtn.addEventListener('click', () => showLoginModal());
            mobileLoginBtn.addEventListener('click', () => {
                showLoginModal();
                closeMobileMenu();
            });
            mobileSignupBtn.addEventListener('click', () => {
                showLoginModal();
                closeMobileMenu();
            });
            closeLoginModal.addEventListener('click', () => loginModal.classList.remove('active'));
            
            // Set up wizard navigation
            document.getElementById('next-to-step2').addEventListener('click', () => goToStep(2));
            document.getElementById('next-to-step3').addEventListener('click', () => goToStep(3));
            document.getElementById('prev-to-step1').addEventListener('click', () => goToStep(1));
            document.getElementById('prev-to-step2').addEventListener('click', () => goToStep(2));
            document.getElementById('prev-to-step3').addEventListener('click', () => goToStep(3));
            document.getElementById('analyze-btn').addEventListener('click', analyzeDecision);
            document.getElementById('new-decision-btn').addEventListener('click', resetWizard);
            document.getElementById('save-decision-btn').addEventListener('click', saveDecision);
            document.getElementById('finish-wizard-btn').addEventListener('click', finishWizard);
            
            // Set up start analytic button
            startAnalyticBtn.addEventListener('click', () => {
                document.getElementById('analytic-helper').scrollIntoView({ behavior: 'smooth' });
                goToStep(1);
                closeMobileMenu();
            });
            
            // Set up start simple button
            startSimpleBtn.addEventListener('click', () => {
                document.getElementById('simple-helper-section').scrollIntoView({ behavior: 'smooth' });
                startSimpleHelper();
                closeMobileMenu();
            });
            
            // Set up start goals button
            startGoalsBtn.addEventListener('click', () => {
                document.getElementById('goals-section').scrollIntoView({ behavior: 'smooth' });
                closeMobileMenu();
            });
            
            // Set up template cards
            document.querySelectorAll('.template-card').forEach(card => {
                card.addEventListener('click', () => {
                    loadTemplate(card.dataset.template);
                    closeMobileMenu();
                });
            });
            
            // Set up add option button
            document.getElementById('add-option-btn').addEventListener('click', addOption);
            
            // Set up goals functionality
            document.getElementById('add-goal-btn').addEventListener('click', addGoal);
            document.getElementById('new-goal').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addGoal();
                }
            });
            document.getElementById('clear-goals-btn').addEventListener('click', clearGoals);
            document.getElementById('use-goals-btn').addEventListener('click', useGoalsInWizard);
            
            // Set up simple helper functionality
            document.getElementById('simple-yes-btn').addEventListener('click', () => answerSimpleQuestion('yes'));
            document.getElementById('simple-no-btn').addEventListener('click', () => answerSimpleQuestion('no'));
            document.getElementById('simple-maybe-btn').addEventListener('click', () => answerSimpleQuestion('maybe'));
            document.getElementById('restart-simple-btn').addEventListener('click', startSimpleHelper);
            document.getElementById('finish-simple-btn').addEventListener('click', finishSimpleHelper);
            
            // Initialize options
            initializeOptions();
            
            // Initialize pros/cons data
            initializeProsCons();
            
            // Initialize goals with some examples
            initializeGoals();
            
            // Initialize simple helper
            startSimpleHelper();
            
            // Close modals when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target === loginModal) {
                    loginModal.classList.remove('active');
                }
                if (e.target === mobileMenu) {
                    closeMobileMenu();
                }
            });
            
            // Close mobile menu on escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeMobileMenu();
                }
            });
        }

        // Close welcome modal
        function closeWelcomeModal() {
            welcomeModal.classList.add('hidden');
            body.classList.remove('no-scroll');
            setTimeout(() => {
                welcomeModal.style.display = 'none';
            }, 500);
        }

        // Open mobile menu
        function openMobileMenu() {
            mobileMenu.classList.add('active');
            body.classList.add('no-scroll');
        }

        // Close mobile menu
        function closeMobileMenu() {
            mobileMenu.classList.remove('active');
            body.classList.remove('no-scroll');
        }

        // Switch language
        function switchLanguage(lang) {
            currentLang = lang;
            
            // Update body direction
            if (lang === 'ar') {
                body.classList.add('rtl');
                body.classList.remove('ltr');
            } else {
                body.classList.add('ltr');
                body.classList.remove('rtl');
            }
            
            // Update active language button
            langEnBtn.classList.toggle('active', lang === 'en');
            langArBtn.classList.toggle('active', lang === 'ar');
            mobileLangEnBtn.classList.toggle('active', lang === 'en');
            mobileLangArBtn.classList.toggle('active', lang === 'ar');
            
            // Update all translatable elements
            Object.keys(translations[lang]).forEach(key => {
                const elements = document.querySelectorAll(`[id="${key}"]`);
                elements.forEach(element => {
                    element.textContent = translations[lang][key];
                });
            });
            
            // Update logo text
            const logoText = document.getElementById('logo-text');
            logoText.textContent = translations[lang]['logo-text'];
            if (lang === 'ar') {
                logoText.classList.add('rtl');
            } else {
                logoText.classList.remove('rtl');
            }
            
            // Update wizard steps if we're in step 3 or 4
            if (currentStep === 3) {
                updateProsConsUI();
            } else if (currentStep === 4) {
                updateResults();
            }
            
            // Update goals UI
            updateGoalsUI();
            
            // Update simple helper questions
            updateSimpleQuestion();
            
            // Close mobile menu
            closeMobileMenu();
        }

        // Toggle dark mode
        function toggleDarkMode() {
            body.classList.toggle('dark-mode');
            if (body.classList.contains('dark-mode')) {
                themeText.textContent = currentLang === 'en' ? 'Light Mode' : 'الوضع الفاتح';
                mobileThemeText.textContent = currentLang === 'en' ? 'Light Mode' : 'الوضع الفاتح';
                themeToggle.innerHTML = '<i class="fas fa-sun"></i><span id="theme-text">' + themeText.textContent + '</span>';
                mobileThemeToggle.innerHTML = '<i class="fas fa-sun"></i><span id="mobile-theme-text">' + mobileThemeText.textContent + '</span>';
            } else {
                themeText.textContent = currentLang === 'en' ? 'Dark Mode' : 'الوضع الداكن';
                mobileThemeText.textContent = currentLang === 'en' ? 'Dark Mode' : 'الوضع الداكن';
                themeToggle.innerHTML = '<i class="fas fa-moon"></i><span id="theme-text">' + themeText.textContent + '</span>';
                mobileThemeToggle.innerHTML = '<i class="fas fa-moon"></i><span id="mobile-theme-text">' + mobileThemeText.textContent + '</span>';
            }
        }

        // Show login modal
        function showLoginModal() {
            loginModal.classList.add('active');
            closeMobileMenu();
        }

        // Initialize goals with examples
        function initializeGoals() {
            if (currentLang === 'en') {
                goals = [
                    { id: 1, text: "Save money for future education", importance: 5, matchPercentage: 0 },
                    { id: 2, text: "Improve work-life balance", importance: 4, matchPercentage: 0 },
                    { id: 3, text: "Develop new skills and knowledge", importance: 5, matchPercentage: 0 }
                ];
            } else {
                goals = [
                    { id: 1, text: "توفير المال للتعليم المستقبلي", importance: 5, matchPercentage: 0 },
                    { id: 2, text: "تحسين التوازن بين العمل والحياة", importance: 4, matchPercentage: 0 },
                    { id: 3, text: "تطوير مهارات ومعرفة جديدة", importance: 5, matchPercentage: 0 }
                ];
            }
            updateGoalsUI();
        }

        // Update goals UI
        function updateGoalsUI() {
            const goalsList = document.getElementById('goals-list');
            goalsList.innerHTML = '';
            
            if (goals.length === 0) {
                goalsList.innerHTML = `<p style="text-align: center; color: var(--gray); padding: 20px;">${currentLang === 'en' ? 'No goals added yet. Add your first goal above.' : 'لم تتم إضافة أي أهداف بعد. أضف هدفك الأول أعلاه.'}</p>`;
                return;
            }
            
            goals.forEach(goal => {
                const goalItem = document.createElement('div');
                goalItem.className = 'goal-item';
                goalItem.dataset.id = goal.id;
                
                // Create stars for importance
                let starsHtml = '';
                for (let i = 1; i <= 5; i++) {
                    starsHtml += `<span class="importance-star ${i <= goal.importance ? 'active' : ''}" data-id="${goal.id}" data-value="${i}"><i class="fas fa-star"></i></span>`;
                }
                
                goalItem.innerHTML = `
                    <div class="goal-content">
                        <div style="font-weight: 600;">${goal.text}</div>
                        <div class="goal-importance">
                            <span style="font-size: 14px; color: var(--gray);">${currentLang === 'en' ? 'Importance:' : 'الأهمية:'}</span>
                            ${starsHtml}
                        </div>
                        <div class="goal-match">
                            <span style="font-size: 14px; color: var(--gray);">${currentLang === 'en' ? 'Match with decision:' : 'التوافق مع القرار:'}</span>
                            <div class="match-slider">
                                <div class="match-fill" style="width: ${goal.matchPercentage}%"></div>
                            </div>
                            <div class="match-percentage">${goal.matchPercentage}%</div>
                        </div>
                    </div>
                    <button class="btn btn-danger btn-small remove-goal" data-id="${goal.id}">
                        <i class="fas fa-trash"></i>
                    </button>
                `;
                
                goalsList.appendChild(goalItem);
            });
            
            // Add event listeners for importance stars
            document.querySelectorAll('.importance-star').forEach(star => {
                star.addEventListener('click', function() {
                    const goalId = parseInt(this.dataset.id);
                    const value = parseInt(this.dataset.value);
                    updateGoalImportance(goalId, value);
                });
            });
            
            // Add event listeners for remove buttons
            document.querySelectorAll('.remove-goal').forEach(button => {
                button.addEventListener('click', function() {
                    const goalId = parseInt(this.dataset.id);
                    removeGoal(goalId);
                });
            });
        }

        // Add a new goal
        function addGoal() {
            const goalInput = document.getElementById('new-goal');
            const goalText = goalInput.value.trim();
            
            if (goalText) {
                const newGoal = {
                    id: Date.now(),
                    text: goalText,
                    importance: 3, // Default importance
                    matchPercentage: 0
                };
                
                goals.push(newGoal);
                updateGoalsUI();
                goalInput.value = '';
                goalInput.focus();
            }
        }

        // Remove a goal
        function removeGoal(goalId) {
            goals = goals.filter(goal => goal.id !== goalId);
            updateGoalsUI();
        }

        // Update goal importance
        function updateGoalImportance(goalId, importance) {
            const goal = goals.find(g => g.id === goalId);
            if (goal) {
                goal.importance = importance;
                updateGoalsUI();
            }
        }

        // Clear all goals
        function clearGoals() {
            if (confirm(currentLang === 'en' ? 'Are you sure you want to clear all goals?' : 'هل أنت متأكد أنك تريد مسح جميع الأهداف؟')) {
                goals = [];
                updateGoalsUI();
            }
        }

        // Use goals in wizard
        function useGoalsInWizard() {
            document.getElementById('analytic-helper').scrollIntoView({ behavior: 'smooth' });
            goToStep(1);
            
            // Update selected goals preview
            updateSelectedGoalsPreview();
        }

        // Update selected goals preview in wizard
        function updateSelectedGoalsPreview() {
            const previewContainer = document.getElementById('selected-goals-preview');
            
            if (goals.length === 0) {
                previewContainer.innerHTML = `<p style="color: var(--gray); font-size: 14px; padding: 10px; background-color: rgba(114, 47, 55, 0.05); border-radius: 8px;">${currentLang === 'en' ? 'No goals selected. Add goals in the Goals section.' : 'لم يتم تحديد أي أهداف. أضف الأهداف في قسم الأهداف.'}</p>`;
                return;
            }
            
            let previewHtml = `<p style="font-weight: 600; margin-bottom: 10px;">${currentLang === 'en' ? 'Selected Goals:' : 'الأهداف المحددة:'}</p><div style="display: flex; flex-wrap: wrap; gap: 10px;">`;
            
            goals.forEach(goal => {
                previewHtml += `<span style="background-color: rgba(32, 191, 107, 0.1); color: var(--success); padding: 5px 10px; border-radius: 20px; font-size: 14px; display: flex; align-items: center; gap: 5px;">
                    <i class="fas fa-bullseye"></i> ${goal.text}
                </span>`;
            });
            
            previewHtml += '</div>';
            previewContainer.innerHTML = previewHtml;
        }

        // Initialize simple helper
        function startSimpleHelper() {
            simpleAnswers = [];
            updateSimpleQuestion();
        }

        // Update simple question
        function updateSimpleQuestion() {
            const currentQuestion = simpleAnswers.length;
            const totalQuestions = 15; // 15 questions total
            
            // Update progress
            const progress = (currentQuestion / totalQuestions) * 100;
            document.getElementById('simple-progress').style.width = `${progress}%`;
            document.getElementById('simple-progress-text').textContent = 
                currentLang === 'en' 
                    ? `Question ${currentQuestion + 1} of ${totalQuestions}` 
                    : `السؤال ${currentQuestion + 1} من ${totalQuestions}`;
            
            // Update question text
            const questions = simpleQuestions[currentLang];
            const questionIndex = Math.min(currentQuestion, questions.length - 1);
            document.getElementById('simple-question').textContent = questions[questionIndex];
            
            // Show/hide finish button
            const finishBtn = document.getElementById('finish-simple-btn');
            if (currentQuestion >= totalQuestions - 1) {
                finishBtn.style.display = 'flex';
            } else {
                finishBtn.style.display = 'none';
            }
        }

        // Answer simple question
        function answerSimpleQuestion(answer) {
            simpleAnswers.push(answer);
            
            if (simpleAnswers.length >= 15) {
                finishSimpleHelper();
            } else {
                updateSimpleQuestion();
            }
        }

        // Finish simple helper and show recommendation
        function finishSimpleHelper() {
            // Calculate score based on answers
            let score = 0;
            simpleAnswers.forEach(answer => {
                if (answer === 'yes') score += 10;
                else if (answer === 'maybe') score += 5;
                // 'no' adds 0
            });
            
            // Maximum possible score is 150 (15 questions * 10 points)
            const maxScore = 150;
            const percentage = Math.round((score / maxScore) * 100);
            
            // Determine recommendation
            let recommendation = '';
            let recommendationClass = '';
            
            if (percentage >= 70) {
                recommendation = currentLang === 'en' 
                    ? 'Based on your answers, this seems like an EXCELLENT decision that strongly aligns with your goals and values.' 
                    : 'بناءً على إجاباتك، يبدو أن هذا قرار ممتاز يتوافق بشدة مع أهدافك وقيمك.';
                recommendationClass = 'success';
            } else if (percentage >= 50) {
                recommendation = currentLang === 'en'
                    ? 'Based on your answers, this is a GOOD decision but consider making some adjustments or gathering more information.'
                    : 'بناءً على إجاباتك، هذا قرار جيد ولكن فكر في إجراء بعض التعديلات أو جمع المزيد من المعلومات.';
                recommendationClass = 'warning';
            } else if (percentage >= 30) {
                recommendation = currentLang === 'en'
                    ? 'Based on your answers, you should RECONSIDER this decision or explore alternative options.'
                    : 'بناءً على إجاباتك، يجب عليك إعادة النظر في هذا القرار أو استكشاف خيارات بديلة.';
                recommendationClass = 'warning';
            } else {
                recommendation = currentLang === 'en'
                    ? 'Based on your answers, this might NOT be the right decision at this time. Strongly consider alternative options.'
                    : 'بناءً على إجاباتك، قد لا يكون هذا القرار المناسب في هذا الوقت. فكر بقوة في خيارات بديلة.';
                recommendationClass = 'danger';
            }
            
            // Show recommendation in an alert
            alert(`${currentLang === 'en' ? 'Simple Decision Helper Result' : 'نتائج مساعد القرار البسيط'}\n\n${recommendation}\n\n${currentLang === 'en' ? 'Score:' : 'النتيجة:'} ${score}/${maxScore} (${percentage}%)`);
            
            // Reset for next use
            startSimpleHelper();
        }

        // Wizard navigation
        function goToStep(step) {
            // Validate current step before proceeding
            if (step === 2 && !validateDecisionTitle()) {
                alert(currentLang === 'en' 
                    ? 'Please enter a decision title' 
                    : 'الرجاء إدخال عنوان للقرار');
                return;
            }
            
            if (step === 3 && !validateOptions()) {
                alert(currentLang === 'en' 
                    ? 'Please add at least 2 options with names' 
                    : 'الرجاء إضافة خيارين على الأقل بأسماء');
                return;
            }
            
            if (step === 4 && !validateProsCons()) {
                alert(currentLang === 'en' 
                    ? 'Please add at least one pro or con for each option' 
                    : 'الرجاء إضافة إيجابية أو سلبية واحدة على الأقل لكل خيار');
                return;
            }
            
            // Update current step
            currentStep = step;
            
            // Update step indicators
            wizardSteps.forEach((stepEl, index) => {
                if (index + 1 === step) {
                    stepEl.classList.add('step-active');
                } else {
                    stepEl.classList.remove('step-active');
                }
            });
            
            // Show/hide content
            wizardContents.forEach((contentEl, index) => {
                if (index + 1 === step) {
                    contentEl.classList.add('active');
                } else {
                    contentEl.classList.remove('active');
                }
            });
            
            // If going to step 1, update goals preview
            if (step === 1) {
                updateSelectedGoalsPreview();
            }
            
            // If going to step 3, update pros/cons UI
            if (step === 3) {
                updateProsConsUI();
            }
            
            // If going to step 4, analyze and show results
            if (step === 4) {
                analyzeDecision();
            }
            
            // Scroll to wizard
            document.getElementById('analytic-helper').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Validate decision title
        function validateDecisionTitle() {
            const decisionTitle = document.getElementById('decision-title').value.trim();
            return decisionTitle !== '';
        }

        // Initialize options
        function initializeOptions() {
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            options.forEach((option, index) => {
                const optionItem = document.createElement('div');
                optionItem.className = 'option-item';
                optionItem.innerHTML = `
                    <div class="option-header">
                        <input type="text" class="form-input option-title-input" value="${option}" data-index="${index}">
                        <button class="btn btn-outline btn-small remove-option" type="button">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                optionsContainer.appendChild(optionItem);
            });
            
            // Add event listeners for option inputs
            document.querySelectorAll('.option-title-input').forEach(input => {
                input.addEventListener('input', updateOptionsFromInputs);
            });
            
            // Add event listeners for remove buttons
            document.querySelectorAll('.remove-option').forEach(button => {
                button.addEventListener('click', removeOption);
            });
        }

        // Update options from inputs
        function updateOptionsFromInputs() {
            const optionInputs = document.querySelectorAll('.option-title-input');
            options = Array.from(optionInputs)
                .map(input => input.value.trim())
                .filter(value => value !== '');
            
            // If we have empty options, add placeholder text
            if (options.length < 2) {
                options = currentLang === 'en' ? ['Option 1', 'Option 2'] : ['خيار 1', 'خيار 2'];
                initializeOptions();
            }
            
            // Initialize pros/cons data for new options
            options.forEach(option => {
                if (!prosConsData[option]) {
                    prosConsData[option] = { pros: [], cons: [] };
                }
            });
            
            // Remove data for options that no longer exist
            Object.keys(prosConsData).forEach(option => {
                if (!options.includes(option)) {
                    delete prosConsData[option];
                }
            });
        }

        // Add new option
        function addOption() {
            const optionsContainer = document.getElementById('options-container');
            const optionCount = optionsContainer.children.length + 1;
            
            const optionItem = document.createElement('div');
            optionItem.className = 'option-item';
            optionItem.innerHTML = `
                <div class="option-header">
                    <input type="text" class="form-input option-title-input" placeholder="${currentLang === 'en' ? 'Option' : 'خيار'} ${optionCount}" data-index="${optionCount - 1}">
                    <button class="btn btn-outline btn-small remove-option" type="button">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            `;
            
            optionsContainer.appendChild(optionItem);
            
            // Add event listeners
            optionItem.querySelector('.option-title-input').addEventListener('input', updateOptionsFromInputs);
            optionItem.querySelector('.remove-option').addEventListener('click', removeOption);
            
            updateOptionsFromInputs();
        }

        // Remove option
        function removeOption(e) {
            const optionItem = e.target.closest('.option-item');
            if (document.querySelectorAll('.option-item').length > 2) {
                optionItem.remove();
                updateOptionsFromInputs();
            } else {
                alert(currentLang === 'en' 
                    ? 'You need at least 2 options' 
                    : 'تحتاج إلى خيارين على الأقل');
            }
        }

        // Validate options
        function validateOptions() {
            const optionInputs = document.querySelectorAll('.option-title-input');
            const validOptions = Array.from(optionInputs)
                .map(input => input.value.trim())
                .filter(value => value !== '');
            
            return validOptions.length >= 2;
        }

        // Initialize pros/cons data
        function initializeProsCons() {
            options.forEach(option => {
                if (!prosConsData[option]) {
                    prosConsData[option] = {
                        pros: currentLang === 'en' ? ['Positive aspect 1', 'Positive aspect 2'] : ['جانب إيجابي 1', 'جانب إيجابي 2'],
                        cons: currentLang === 'en' ? ['Negative aspect 1', 'Negative aspect 2'] : ['جانب سلبي 1', 'جانب سلبي 2']
                    };
                }
            });
        }

        // Update pros/cons UI
        function updateProsConsUI() {
            const container = document.getElementById('pros-cons-container');
            container.innerHTML = '';
            
            options.forEach((option, index) => {
                const optionData = prosConsData[option] || { pros: [], cons: [] };
                
                const optionElement = document.createElement('div');
                optionElement.className = 'option-pros-cons';
                optionElement.innerHTML = `
                    <h4 style="margin-bottom: 15px; color: var(--primary);">${option}</h4>
                    <div class="pros-cons-container">
                        <div>
                            <h5 style="margin-bottom: 10px; color: var(--success);">${currentLang === 'en' ? 'Pros' : 'الإيجابيات'}</h5>
                            <ul class="pros-list" id="pros-list-${index}">
                                ${optionData.pros.map((pro, i) => `
                                    <li>
                                        <span>${pro}</span>
                                        <button class="btn btn-outline btn-small remove-pros-cons" data-option="${option}" data-type="pros" data-index="${i}">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </li>
                                `).join('')}
                            </ul>
                            <div style="display: flex; margin-top: 10px;">
                                <input type="text" class="form-input new-pros-cons-input" data-option="${option}" data-type="pros" placeholder="${currentLang === 'en' ? 'Add a pro...' : 'أضف إيجابية...'}" style="flex: 1; margin-right: 10px;">
                                <button class="btn btn-outline btn-small add-pros-cons" data-option="${option}" data-type="pros">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                        <div>
                            <h5 style="margin-bottom: 10px; color: var(--danger);">${currentLang === 'en' ? 'Cons' : 'السلبيات'}</h5>
                            <ul class="cons-list" id="cons-list-${index}">
                                ${optionData.cons.map((con, i) => `
                                    <li>
                                        <span>${con}</span>
                                        <button class="btn btn-outline btn-small remove-pros-cons" data-option="${option}" data-type="cons" data-index="${i}">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </li>
                                `).join('')}
                            </ul>
                            <div style="display: flex; margin-top: 10px;">
                                <input type="text" class="form-input new-pros-cons-input" data-option="${option}" data-type="cons" placeholder="${currentLang === 'en' ? 'Add a con...' : 'أضف سلبية...'}" style="flex: 1; margin-right: 10px;">
                                <button class="btn btn-outline btn-small add-pros-cons" data-option="${option}" data-type="cons">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                
                container.appendChild(optionElement);
                
                // Add separator between options
                if (index < options.length - 1) {
                    const separator = document.createElement('hr');
                    separator.style = 'margin: 30px 0; border: none; border-top: 2px solid rgba(0,0,0,0.1);';
                    container.appendChild(separator);
                }
            });
            
            // Add event listeners
            document.querySelectorAll('.add-pros-cons').forEach(button => {
                button.addEventListener('click', addProsConsItem);
            });
            
            document.querySelectorAll('.remove-pros-cons').forEach(button => {
                button.addEventListener('click', removeProsConsItem);
            });
            
            document.querySelectorAll('.new-pros-cons-input').forEach(input => {
                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        addProsConsItemFromInput(input);
                    }
                });
            });
        }

        // Add pros/cons item
        function addProsConsItem(e) {
            const button = e.target.closest('.add-pros-cons');
            const option = button.dataset.option;
            const type = button.dataset.type;
            const input = button.previousElementSibling;
            addProsConsItemFromInput(input, option, type);
        }

        // Add pros/cons item from input
        function addProsConsItemFromInput(input, option, type) {
            if (!option) option = input.dataset.option;
            if (!type) type = input.dataset.type;
            const value = input.value.trim();
            
            if (value) {
                if (!prosConsData[option][type]) {
                    prosConsData[option][type] = [];
                }
                prosConsData[option][type].push(value);
                updateProsConsUI();
                input.value = '';
            }
        }

        // Remove pros/cons item
        function removeProsConsItem(e) {
            const button = e.target.closest('.remove-pros-cons');
            const option = button.dataset.option;
            const type = button.dataset.type;
            const index = parseInt(button.dataset.index);
            
            prosConsData[option][type].splice(index, 1);
            updateProsConsUI();
        }

        // Validate pros/cons
        function validateProsCons() {
            for (const option of options) {
                const data = prosConsData[option] || { pros: [], cons: [] };
                if (data.pros.length === 0 && data.cons.length === 0) {
                    return false;
                }
            }
            return true;
        }

        // Analyze decision and show results
        function analyzeDecision() {
            // Get decision title
            const decisionTitle = document.getElementById('decision-title').value || 
                (currentLang === 'en' ? 'My Decision' : 'قراري');
            
            // Get analysis mode
            const analysisMode = document.querySelector('input[name="analysis-mode"]:checked').value;
            
            // Check if goals should be included
            const includeGoals = document.querySelector('input[name="include-goals"]:checked').value === 'yes';
            
            // Calculate scores for each option
            const scores = {};
            const goalAlignments = {};
            let maxScore = 0;
            let bestOption = '';
            
            options.forEach(option => {
                const optionData = prosConsData[option] || { pros: [], cons: [] };
                let score = 0;
                
                // Calculate base score from pros/cons
                const prosCount = optionData.pros.length;
                const consCount = optionData.cons.length;
                
                if (analysisMode === 'simple') {
                    // Simple: +10 for each pro, -10 for each con
                    score = (prosCount * 10) - (consCount * 10);
                } else if (analysisMode === 'weighted') {
                    // Weighted: +15 for each pro, -12 for each con
                    score = (prosCount * 15) - (consCount * 12);
                } else if (analysisMode === 'goal-based') {
                    // Goal-based: weight based on goals
                    score = (prosCount * 10) - (consCount * 8);
                }
                
                // Calculate goal alignment if enabled
                let goalScore = 0;
                let totalGoalWeight = 0;
                
                if (includeGoals && goals.length > 0) {
                    goals.forEach(goal => {
                        // Simulate goal alignment calculation
                        // In a real app, this would be based on user input
                        const alignment = Math.floor(Math.random() * 30) + 70; // 70-100%
                        goal.matchPercentage = alignment;
                        
                        const weightedAlignment = (alignment / 100) * goal.importance;
                        goalScore += weightedAlignment;
                        totalGoalWeight += goal.importance;
                    });
                    
                    // Calculate average goal alignment
                    const avgGoalAlignment = totalGoalWeight > 0 ? (goalScore / totalGoalWeight) * 10 : 0;
                    
                    // Store goal alignment for this option
                    goalAlignments[option] = {
                        alignment: Math.round((goalScore / totalGoalWeight) * 100) || 0,
                        details: goals.map(goal => ({
                            text: goal.text,
                            importance: goal.importance,
                            alignment: goal.matchPercentage
                        }))
                    };
                    
                    // Adjust score based on goals
                    if (analysisMode === 'goal-based') {
                        // Goal-based analysis: 60% from goals, 40% from pros/cons
                        score = (avgGoalAlignment * 0.6) + (score * 0.4);
                    } else if (includeGoals) {
                        // Other modes with goals: 50/50 split
                        score = (avgGoalAlignment * 0.5) + (score * 0.5);
                    }
                }
                
                // Ensure score is between 0 and 100
                score = Math.max(0, Math.min(100, score + 50));
                
                scores[option] = Math.round(score);
                
                if (score > maxScore) {
                    maxScore = score;
                    bestOption = option;
                }
            });
            
            // Update results UI
            const resultsDisplay = document.getElementById('results-display');
            resultsDisplay.innerHTML = '';
            
            // Sort options by score (descending)
            const sortedOptions = Object.entries(scores).sort((a, b) => b[1] - a[1]);
            
            sortedOptions.forEach(([option, score], index) => {
                const optionData = prosConsData[option] || { pros: [], cons: [] };
                const optionElement = document.createElement('div');
                optionElement.className = 'result-option';
                
                // Add goal alignment indicator if available
                let goalAlignmentHtml = '';
                if (includeGoals && goalAlignments[option]) {
                    const alignment = goalAlignments[option].alignment;
                    goalAlignmentHtml = `
                        <div style="display: flex; align-items: center; margin-top: 10px;">
                            <span style="font-size: 14px; color: var(--gray); margin-right: 10px;">${currentLang === 'en' ? 'Goal Alignment:' : 'التوافق مع الأهداف:'}</span>
                            <div style="flex: 1; height: 6px; background-color: #e0e0e0; border-radius: 3px; overflow: hidden;">
                                <div style="width: ${alignment}%; height: 100%; background-color: var(--success);"></div>
                            </div>
                            <span style="margin-left: 10px; font-weight: 600; color: var(--success);">${alignment}%</span>
                        </div>
                    `;
                }
                
                optionElement.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        <h4 style="font-size: 18px;">${option}</h4>
                        <div style="font-size: 24px; font-weight: 700; color: ${index === 0 ? 'var(--success)' : 'var(--primary)'};">${score}%</div>
                    </div>
                    <div style="background-color: rgba(0,0,0,0.05); height: 10px; border-radius: 5px; overflow: hidden; margin-bottom: 10px;">
                        <div style="width: ${score}%; height: 100%; background-color: ${index === 0 ? 'var(--success)' : 'var(--primary)'}; transition: width 1s ease;"></div>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-top: 15px;">
                        <div>
                            <strong>${currentLang === 'en' ? 'Pros:' : 'الإيجابيات:'}</strong>
                            <span> ${optionData.pros.length}</span>
                        </div>
                        <div>
                            <strong>${currentLang === 'en' ? 'Cons:' : 'السلبيات:'}</strong>
                            <span> ${optionData.cons.length}</span>
                        </div>
                    </div>
                    ${goalAlignmentHtml}
                `;
                
                resultsDisplay.appendChild(optionElement);
            });
            
            // Update recommendation
            document.getElementById('result-score').textContent = `${Math.round(maxScore)}%`;
            
            const recommendationText = document.getElementById('recommendation-text');
            if (currentLang === 'en') {
                let analysisType = '';
                if (analysisMode === 'simple') analysisType = 'simple';
                else if (analysisMode === 'weighted') analysisType = 'weighted';
                else if (analysisMode === 'goal-based') analysisType = 'goal-based';
                
                recommendationText.innerHTML = `
                    Based on our ${analysisType} analysis, <strong>${bestOption}</strong> is the best choice 
                    for your situation. It scored ${Math.round(maxScore)}% when considering all factors.`;
            } else {
                let analysisType = '';
                if (analysisMode === 'simple') analysisType = 'البسيط';
                else if (analysisMode === 'weighted') analysisType = 'الموزون';
                else if (analysisMode === 'goal-based') analysisType = 'القائم على الأهداف';
                
                recommendationText.innerHTML = `
                    بناءً على تحليل ${analysisType}، 
                    <strong>${bestOption}</strong> هو الخيار الأفضل لحالتك. حصل على نسبة ${Math.round(maxScore)}٪ عند النظر في جميع العوامل.`;
            }
            
            // Update goal alignment results if applicable
            const goalAlignmentContainer = document.getElementById('goal-alignment-container');
            if (includeGoals && goals.length > 0 && goalAlignments[bestOption]) {
                const alignment = goalAlignments[bestOption];
                
                let goalDetailsHtml = '';
                alignment.details.forEach(goal => {
                    goalDetailsHtml += `
                        <div style="margin-bottom: 10px; padding: 10px; background-color: rgba(255,255,255,0.1); border-radius: 6px;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span>${goal.text}</span>
                                <span style="font-weight: 600; color: ${goal.alignment >= 70 ? 'var(--success)' : goal.alignment >= 50 ? 'var(--warning)' : 'var(--danger)'}">${goal.alignment}%</span>
                            </div>
                            <div style="display: flex; align-items: center; margin-top: 5px; font-size: 12px; color: var(--gray);">
                                <span>${currentLang === 'en' ? 'Importance:' : 'الأهمية:'}</span>
                                ${'★'.repeat(goal.importance)}${'☆'.repeat(5-goal.importance)}
                            </div>
                        </div>
                    `;
                });
                
                goalAlignmentContainer.innerHTML = `
                    <h5 style="margin-bottom: 15px;">${currentLang === 'en' ? 'Goal Alignment Analysis' : 'تحليل التوافق مع الأهداف'}</h5>
                    <p style="margin-bottom: 15px;">
                        ${currentLang === 'en' 
                            ? `The recommended option aligns ${alignment.alignment}% with your defined goals:` 
                            : `الخيار الموصى به يتوافق بنسبة ${alignment.alignment}٪ مع أهدافك المحددة:`}
                    </p>
                    ${goalDetailsHtml}
                `;
                goalAlignmentContainer.style.display = 'block';
            } else {
                goalAlignmentContainer.innerHTML = '';
                goalAlignmentContainer.style.display = 'none';
            }
            
            // Update goals UI with alignment percentages
            updateGoalsUI();
            
            // Go to step 4
            goToStep(4);
        }

        // Update results when language changes
        function updateResults() {
            if (currentStep === 4) {
                analyzeDecision();
            }
        }

        // Reset wizard
        function resetWizard() {
            // Reset form inputs
            document.getElementById('decision-title').value = '';
            document.getElementById('decision-description').value = '';
            
            // Reset options
            options = currentLang === 'en' ? ['Option 1', 'Option 2'] : ['خيار 1', 'خيار 2'];
            prosConsData = {};
            
            // Reinitialize
            initializeOptions();
            initializeProsCons();
            
            // Go back to step 1
            goToStep(1);
        }

        // Save decision
        function saveDecision() {
            const decisionTitle = document.getElementById('decision-title').value || 
                (currentLang === 'en' ? 'Untitled Decision' : 'قرار بدون عنوان');
            
            const decision = {
                id: Date.now(),
                title: decisionTitle,
                description: document.getElementById('decision-description').value,
                options: options,
                prosCons: prosConsData,
                goals: includeGoals ? goals : [],
                date: new Date().toLocaleDateString(),
                score: document.getElementById('result-score').textContent
            };
            
            decisions.push(decision);
            
            alert(currentLang === 'en' 
                ? `Decision "${decisionTitle}" saved successfully!` 
                : `تم حفظ القرار "${decisionTitle}" بنجاح!`);
        }

        // Finish wizard
        function finishWizard() {
            alert(currentLang === 'en' 
                ? 'Decision process completed! You can start a new one or view your saved decisions.' 
                : 'اكتملت عملية اتخاذ القرار! يمكنك بدء قرار جديد أو عرض القرارات المحفوظة.');
            
            resetWizard();
            document.querySelector('.hero').scrollIntoView({ behavior: 'smooth' });
        }

        // Load template
        function loadTemplate(templateType) {
            let title = '';
            let templateOptions = [];
            let templateProsCons = {};
            
            switch(templateType) {
                case 'university':
                    if (currentLang === 'en') {
                        title = 'Choosing a University Major';
                        templateOptions = ['Computer Science', 'Business Administration', 'Engineering', 'Medicine', 'Psychology'];
                        templateProsCons = {
                            'Computer Science': {
                                pros: ['High salary potential', 'High demand jobs', 'Remote work options', 'Creative problem solving'],
                                cons: ['Can be stressful', 'Constant learning required', 'Sedentary work']
                            },
                            'Business Administration': {
                                pros: ['Versatile degree', 'Management opportunities', 'Good networking', 'Entrepreneurship skills'],
                                cons: ['Competitive field', 'May require MBA for advancement', 'Can be theoretical']
                            }
                        };
                    } else {
                        title = 'اختيار تخصص جامعي';
                        templateOptions = ['علوم الحاسوب', 'إدارة الأعمال', 'الهندسة', 'الطب', 'علم النفس'];
                        templateProsCons = {
                            'علوم الحاسوب': {
                                pros: ['إمكانية راتب مرتفع', 'وظائف مطلوبة', 'خيارات العمل عن بعد', 'حل المشكلات الإبداعي'],
                                cons: ['قد يكون مرهقًا', 'يتطلب تعلمًا مستمرًا', 'عمل غير نشط']
                            },
                            'إدارة الأعمال': {
                                pros: ['شهادة متعددة الاستخدامات', 'فرص إدارية', 'شبكة علاقات جيدة', 'مهارات ريادة الأعمال'],
                                cons: ['مجال تنافسي', 'قد يتطلب ماجستير إدارة الأعمال للتقدم', 'قد يكون نظريًا']
                            }
                        };
                    }
                    break;
                case 'career':
                    if (currentLang === 'en') {
                        title = 'Career Change Decision';
                        templateOptions = ['Stay in current job', 'Switch to new company', 'Start own business', 'Go back to school'];
                    } else {
                        title = 'قرار تغيير الوظيفة';
                        templateOptions = ['البقاء في الوظيفة الحالية', 'الانتقال إلى شركة جديدة', 'بدء عمل خاص', 'العودة إلى الدراسة'];
                    }
                    break;
                case 'car':
                    if (currentLang === 'en') {
                        title = 'Buying a Car';
                        templateOptions = ['Toyota Camry', 'Honda Civic', 'Ford Mustang', 'Tesla Model 3'];
                    } else {
                        title = 'شراء سيارة';
                        templateOptions = ['تويوتا كامري', 'هوندا سيفيك', 'فورد موستانج', 'تسلا موديل 3'];
                    }
                    break;
                case 'study':
                    if (currentLang === 'en') {
                        title = 'Choosing a Study Program';
                        templateOptions = ['Online Certification', 'University Degree', 'Bootcamp', 'Self-Study'];
                    } else {
                        title = 'اختيار برنامج دراسة';
                        templateOptions = ['شهادة عبر الإنترنت', 'درجة جامعية', 'معسكر تدريبي', 'دراسة ذاتية'];
                    }
                    break;
            }
            
            // Set decision title
            document.getElementById('decision-title').value = title;
            
            // Set options
            options = templateOptions;
            prosConsData = templateProsCons;
            
            // Initialize with template data
            initializeOptions();
            
            // Initialize pros/cons for any options not in template
            options.forEach(option => {
                if (!prosConsData[option]) {
                    prosConsData[option] = {
                        pros: currentLang === 'en' ? ['Positive aspect 1', 'Positive aspect 2'] : ['جانب إيجابي 1', 'جانب إيجابي 2'],
                        cons: currentLang === 'en' ? ['Negative aspect 1', 'Negative aspect 2'] : ['جانب سلبي 1', 'جانب سلبي 2']
                    };
                }
            });
            
            // Go to step 1
            goToStep(1);
            
            // Show message
            alert(currentLang === 'en' 
                ? `"${title}" template loaded! Customize it for your needs.` 
                : `تم تحميل قالب "${title}"! قم بتخصيصه وفقًا لاحتياجاتك.`);
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>